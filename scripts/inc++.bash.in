#!/bin/bash

if [[ "$*" == *-c* ]]
then
    #we are just compiling
    cxx="@CXX@"
    ldflags=""
    libs=""
else
    #we are linking too
    cxx="@CXXLD@"
    ldflags="@LDFLAGS@ -L@abs_builddir@/../src/"
    libs="-linq @LIBS_LAPACK@ @LIBS_BLAS@ @LIBS_CUDA@ @LIBS@"
fi

cxxflags="@CXXFLAGS@                         \
	-I@abs_builddir@/../                       \
	-I@abs_top_srcdir@/src/                    \
	-I@abs_top_srcdir@/external_libs/          \
	-DSHARE_DIR=\"@abs_top_srcdir@/share/\"         \
	-DPREFIX_DIR=\"@prefix@\""

command_line="$cxx $cxxflags $ldflags $* $libs"

echo $command_line && $command_line
